<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous">
</script>
<script src="~/Content/table_search.js"></script>

@{
    ViewBag.Title = "Поиск групп";
    var groups = ViewBag.SearchGroups;
}

<div style="width:80%; margin-left:10%; margin-right:10%">
    <input type="text" id="input" placeholder="Поиск" class="pull-left" style="width:300px; max-width:inherit; border-radius:20px; padding-left:5%; padding-right:5%; text-align:left; border:solid; border-color:steelblue; background-color:lightsteelblue" />
    <br />
    <br />
    <br />
    <table id="table" class="table-striped" style="width :100%">
        <thead>
            <tr>
                <th style="text-align:center">Институт</th>
                <th style="text-align:center">Кафедра</th>
                <th style="text-align:center">Группа</th>
            </tr>
        </thead>
        <tbody>
            @{ foreach (var group in groups)
                {
            <tr onclick="newMessage(@group.id_group)" style="height:50px">
                <td style="text-align:center">
                    @group.faculty
                </td>
                <td style="text-align:center">
                    @group.department
                </td>
                <td style="text-align:center" id="@group.name" class="username">
                    @group.name
                </td>
            </tr>
                }
            }
        </tbody>
    </table>
</div>

<script>
    $('#input').keyup(function () {
        table_search($('#input').val(), $('#table tbody tr'), '012');
    });

        function newMessage(id) {
        window.location = '@Url.Action("NewMessage", "GroupMessage")' + '?id=' + id;
    }

</script>

